<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <h1 id="titulo">Java 2 Web Scraping</h1>
    <h2>Testes com Nodes</h2>

    <p id="preco1">Price : 19.99$ - Ar Condicionado</p>
    <p id="preco2">Price : 25.18$ - Geladeira</p>
    <p id="preco3">Price : 30.00$ - Batedeira</p>

    <!-- retorna todos os nos do Dom 
    <script src="./js/retornaTodosNosDom.js"></script>
    -->
    <script>
       /* var xhttp = new XMLHttpRequest();
        console.log(this.readyState );
        xhttp.onreadystatechange = function() {            
            if(this.readyState == 4 && this.status == 200){
                console.log("entrei no if");
                showResult(xttp.responseXML);
            }
        }
.
        xhttp.open("GET", "file://D:/estudos-diogo/Java-Web-Scraping-Book/prices.txt", true);
        xhttp.send();*/ 
        var textoPreco1 = document.getElementById("preco1").innerText;
        var titulo = document.getElementById("titulo").innerText;
        //console.log(textoPreco1);
        var result = /^\d{2}.\d{2}\$/.test(textoPreco1);
        //console.log(result);   

        tituloRegex = /Java/
        //console.log("test() = " + tituloRegex.test(titulo));
        //console.log("match = " + titulo.match(tituloRegex));

        const valorEntrada = document.getElementById("preco1").innerText;
        encontrarValor(valorEntrada, "19.99")

        function encontrarValor(valorEntrada, valorBuscado){
            console.log(valorEntrada);
            console.log(valorBuscado);            
            //myRegex = /*new RegExp(valorBuscado)*/ /19.99\$/;    
            myRegex = new RegExp(valorBuscado);       
            var response = myRegex.test(valorEntrada) ? "A string - " + valorBuscado + " foi encontrada" : 
                                                        "String n√£o localizada pela REGEX";
            console.log(response);                                            
        }


    </script>
</body>
</html>



